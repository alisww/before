<!-- prettier-ignore -->
{% extends "base.html" %}
{% block content %}
<div class="tw-container">
  <div class="tw-flex tw-items-start lg:tw-items-end tw-font-bold tw-mt-2.5 tw-mb-5">
    <h1 class="tw-text-xl lg:tw-text-6xl tw-leading-[1.2] lg:tw-leading-[1.2] tw-uppercase">Blaseball</h1>
    <div
      class="tw-text-[12px] lg:tw-text-sm tw-leading-[1.5] lg:tw-leading-[1.5] tw-font-sans tw-mx-[5px] lg:tw-m-2.5 tw-p-[5px] tw-pb-[2px] lg:tw-pb-[5px] tw-rounded-[3px] tw-bg-[#656565]/[.65]"
    >
      BETA
    </div>
  </div>

  <p class="tw-text-center tw-text-base lg:tw-text-xl tw-italic">
    <strong>Before</strong> replays Blaseball from any moment recorded by the SIBR archives.
  </p>
</div>

{% for era in data.eras %}
<h2
  class="tw-text-xl tw-leading-normal lg:tw-text-3xl lg:tw-leading-normal tw-text-center tw-font-bold tw-mt-6 lg:tw-mt-8 tw-uppercase tw-relative before:tw-absolute before:tw-left-0 before:tw-top-1/2 before:tw-w-full before:tw-h-px before:tw-bg-gray-700"
  style="color: {{era.color}}"
>
  <span class="tw-inline-block tw-relative tw-bg-black tw-px-4 lg:tw-px-5">{{era.title}}</span>
</h2>

<div class="tw-container tw-text-center tw-mb-6 lg:tw-mb-8">
  {% if !era.events.is_empty() %}
  <p>{{era.days}}</p>
  <ul role="list" class="tw-font-sans tw-mt-1 lg:tw-mt-1.5 tw-mb-4 lg:tw-mb-5 tw-before-list">
    {% for event in era.events %}
    <li>
      <a class="lg:tw-whitespace-nowrap hover:tw-no-underline" href="{{event.era_jump()}}"
        ><span class="{{event.class()}}">{{event.title}}</span></a
      >
    </li>
    {% endfor %}
  </ul>
  {% endif %}

  <!-- prettier-ignore -->
  {% for season in era.seasons %}
  {% if !season.collapse %}
  {% let title_class = "tw-text-base tw-leading-normal lg:tw-text-xl lg:tw-leading-normal tw-font-bold tw-uppercase" %}
  <h3 class="tw-text-base tw-leading-normal lg:tw-text-xl lg:tw-leading-normal tw-font-bold tw-uppercase">
    <a href="{{season.jump()}}" class="hover:tw-no-underline">
      <span style="color: {{season.color}}">{{season.title}}</span>
      <!-- prettier-ignore -->
      {% match season.extra_title %}
      {% when Some with (extra_title) %}
      — <span style="color: {{extra_title.color}}">{{extra_title.title}}</span>
      <!-- prettier-ignore -->
      {% when None %}
      {% endmatch %}
    </a>
  </h3>
  {% endif %}
  <p>Season {{season.number}}, {{season.days}}</p>

  <ul role="list" class="tw-font-sans tw-mt-1 lg:tw-mt-1.5 tw-mb-4 lg:tw-mb-5 tw-before-list">
    {% for event in season.events %}
    <li>
      <a class="lg:tw-whitespace-nowrap hover:tw-no-underline" href="{{event.jump(season)}}"
        ><span class="{{event.class()}}">{{event.title}}</span>{% if !event.butalso.is_empty() %} —
        <span>{{event.butalso}}</span>{% endif %}</a
      >
    </li>
    {% endfor %}
  </ul>
  {% endfor %}
</div>
{% endfor %}

<!-- prettier-ignore -->
{% endblock %}
